title = "account"
url = "/account/"
layout = "Default"
description = "Sign in, registration and account management."
meta_title = "KurzCademy.com | Účet"
is_hidden = 0

[account]
paramCode = "code"
forceSecure = 0

[session]
security = "user"
redirect = "login"
==
<h2 style="text-align: center;">My account</h2>
{% component 'session' %}
<!-- Includuje user component -->
<div id="accountForm">
    {% component 'account' %}
</div>
<br>
<img src="" style="width: 200px; height: 200px; cursor: pointer;" alt="No image preview" id="avatar" class="form-control" hidden onclick="uploader.click()">
<br>
<a data-request="onLogout" data-request-data="">Sign out</a>

<script>
    var avatarPath = "{{ user.avatar.path }}"
    /** @type {HTMLInputElement} */
    var uploader = document.querySelector("#accountForm > form > div:nth-child(7) > input")
    /** @type {HTMLImageElement} */
    var avatarElement = document.getElementById("avatar")

    uploader.hidden = true
    uploader.parentElement.appendChild(avatarElement)

    avatarElement.src = avatarPath || "https://fonts.gstatic.com/s/i/materialicons/publish/v5/24px.svg"
    avatarElement.hidden = false
</script>